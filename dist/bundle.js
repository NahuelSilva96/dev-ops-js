(()=>{var e={336:e=>{let t=JSON.parse(localStorage.getItem("libros"))||[],o=!1,n=null;const r=(e=t)=>{const o=document.getElementById("tablaLibros").querySelector("tbody");o.innerHTML="",e.forEach((e,t)=>{const n=document.createElement("tr");n.innerHTML=`\n      <td>${t+1}</td>\n      <td>${e.titulo}</td>\n      <td>${e.autor}</td>\n      <td>${e.anio}</td>\n      <td>${e.genero}</td>\n      <td>${e.leido?"‚úÖ":"‚ùå"}</td>\n      <td>\n        <button onclick="editarLibro(${t})">Editar</button>\n        <button onclick="eliminarLibro(${t})">Eliminar</button>\n      </td>\n    `,o.appendChild(n)})},i=()=>{const e=document.getElementById("filtroGenero"),o=[...new Set(t.map(e=>e.genero))];e.innerHTML='<option value="todos">Todos</option>',o.forEach(t=>{const o=document.createElement("option");o.value=t,o.text=t,e.appendChild(o)})},l=()=>{const e=document.getElementById("resumenLibros");if(0===t.length)return void(e.innerText="No hay libros registrados.");const o=t.length,n=Math.round(t.reduce((e,t)=>e+t.anio,0)/o),r=t.filter(e=>e.anio>2010).length,i=t.reduce((e,t)=>e.anio<t.anio?e:t),l=t.reduce((e,t)=>e.anio>t.anio?e:t),a=t.filter(e=>e.leido).length,d=o-a;e.innerHTML=`\n    <p>Total de libros: ${o}</p>\n    <p>Promedio de a√±o: ${n}</p>\n    <p>Libros posteriores a 2010: ${r}</p>\n    <p>üìï M√°s antiguo: ${i.titulo} (${i.anio})</p>\n    <p>üìó M√°s reciente: ${l.titulo} (${l.anio})</p>\n    <p>üìò Libros le√≠dos: ${a}</p>\n    <p>üìô Libros no le√≠dos: ${d}</p>\n  `};e.exports={agregarLibro:()=>{const e=document.getElementById("titulo").value.trim(),a=document.getElementById("autor").value.trim(),d=parseInt(document.getElementById("anio").value),u=document.getElementById("genero").value,s=document.getElementById("leido").checked,c=(new Date).getFullYear();if(!e||!a||!d||!u||d<1900||d>c)return void alert("Datos inv√°lidos");const m=t.some(t=>t.titulo.toLowerCase()===e.toLowerCase()&&t.autor.toLowerCase()===a.toLowerCase());if(!o&&m)return void alert("Ya existe un libro con ese t√≠tulo y autor");const g={titulo:e,autor:a,anio:d,genero:u,leido:s};o?(t[n]=g,o=!1,n=null,document.querySelector('button[type="submit"]').innerText="Agregar libro"):t.push(g),localStorage.setItem("libros",JSON.stringify(t)),r(),l(),i(),document.getElementById("titulo").value="",document.getElementById("autor").value="",document.getElementById("anio").value="",document.getElementById("genero").value="",document.getElementById("leido").checked=!1},renderizarLibros:r,mostrarResumen:l,actualizarSelectGenero:i}}},t={};!function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}(336)})();